(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{106:function(n,e,o){"use strict";o.r(e);var t=o(0),i=o.n(t),a=o(10),r=o.n(a),c=o(11),l=(o(49),o(51),o(41)),s=o(32),p=o(33),u=o(40),m=o(34),d=o(42),f=o(35),y=o(19),h=o.n(y),g=o(2),v=o.n(g),w=o(4),b=o.n(w),j=o(36),O=o.n(j),k={toDisplayFeatures:function(n,e,o){v.a.toDisplayFeatures.call(this,n,e,o),n.currentVertexPosition>0&&o(b()(n.line.id,e.geometry.coordinates[n.currentVertexPosition],"".concat(n.currentVertexPosition),!0))},onSetup:function(n){return v.a.onSetup.call(this,n)},onClick:function(n,e){v.a.onClick.call(this,n,e)},onMouseMove:function(n,e){var o=this,t=[[e.point.x-10,e.point.y-10],[e.point.x+10,e.point.y+10]],i=e.lngLat.toArray(),a=this.map.queryRenderedFeatures(t);console.log("queryRenderedFeatures",a);var r=a.map(function(n){var e=n.geometry.type;if("Polygon"===e||"LineString"===e){var t="Polygon"===e?n.geometry.coordinates[0]:n.geometry.coordinates,a=O.a.fromTile(n._vectorTileFeature._y,20),r=a.pointOnLine(t,i);if(r.point&&r.point[0]){console.log("pointOnLine",r);var c=a.distance(r.point,i);n.point=o.map.project(r.point),n.closest=r.point,n.distance=c}}return n}).filter(function(n){var e=n.point;return!!e&&(e.x>t[0][0]&&e.x<t[1][0]&&e.y>t[0][1]&&e.y<t[1][1])}).sort(function(n){return n.distance});r&&r.length&&(e.point.x=r[0].point.x,e.point.y=r[0].point.y,e.lngLat.lng=r[0].closest[0],e.lngLat.lat=r[0].closest[1],console.log("Snapping to:",r)),v.a.onMouseMove.call(this,n,e)},onKeyUp:function(n,e){v.a.onKeyUp.call(this,n,e)},onTap:function(n,e){v.a.onTap.call(this,n,e)},onStop:function(n,e){v.a.onStop.call(this,n,e)},onTrash:function(n,e){v.a.onTrash.call(this,n,e)},clickAnywhere:function(n,e){return v.a.clickAnywhere.call(this,n,e)},clickOnVertex:function(n){return v.a.clickOnVertex.call(this,n)}},x=o(37);o(99);function D(){var n=Object(f.a)(["\n  margin: 0;\n  width: 100vw;\n  height: 100vh;\n"]);return D=function(){return n},n}var M=x.a.div(D()),T={id:"us-zipcodes",type:"line",source:{type:"geojson",data:"https://raw.githubusercontent.com/jgoodall/us-maps/master/geojson/county.geo.json"},paint:{"line-width":2,"line-color":"#3bb2d0"}},S=function(n){function e(n){var o;return Object(s.a)(this,e),(o=Object(u.a)(this,Object(m.a)(e).call(this,n))).mapRef=void 0,o.map=void 0,o.mapDrawTool=void 0,o.onReferenceMap=function(n){o.mapRef=n},o.initializeMap=function(){o.mapRef&&(o.map=new c.Map({container:o.mapRef,style:"mapbox://styles/mapbox/streets-v9",center:[-97,35],zoom:4}),o.mapDrawTool=new h.a({modes:Object(l.a)({},h.a.modes,{draw_line_string:k}),controls:{line_string:!0},displayControlsDefault:!1}),o.map.addControl(o.mapDrawTool),o.map.on("load",o.loadGeoJSON))},o.loadGeoJSON=function(){o.map&&o.map.addLayer(T)},o.mapRef=null,o.map=null,o.mapDrawTool=null,o}return Object(d.a)(e,n),Object(p.a)(e,[{key:"componentDidMount",value:function(){this.initializeMap()}},{key:"render",value:function(){return i.a.createElement(M,{id:"map-container",ref:this.onReferenceMap})}}]),e}(t.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var R=Object.getOwnPropertyDescriptor(c,"accessToken");R&&R.set&&R.set("pk.eyJ1IjoibWFwYm94IiwiYSI6ImNpejY4M29iazA2Z2gycXA4N2pmbDZmangifQ.-g_vE53SD2WrJ6tFX7QHmA"),r.a.render(i.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(n){n.unregister()})},44:function(n,e,o){n.exports=o(106)},51:function(n,e,o){},99:function(n,e,o){}},[[44,2,1]]]);
//# sourceMappingURL=main.10cd71ce.chunk.js.map